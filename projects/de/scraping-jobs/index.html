
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Raspagem de dados do LinkedIn - Portfólio de Pedro Lima</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#raspagem-de-dados-do-linkedin" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href="../../.." title="Portfólio de Pedro Lima" class="md-header__button md-logo" aria-label="Portfólio de Pedro Lima" data-md-component="logo">
      
  <img src="../../../images/monitor.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Portfólio de Pedro Lima
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Raspagem de dados do LinkedIn
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Limpar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando a pesquisa
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Abas" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Sobre mim
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Projetos
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Portfólio de Pedro Lima" class="md-nav__button md-logo" aria-label="Portfólio de Pedro Lima" data-md-component="logo">
      
  <img src="../../../images/monitor.png" alt="logo">

    </a>
    Portfólio de Pedro Lima
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Sobre mim
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Projetos</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Projetos" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Projetos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Engenharia de dados
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Engenharia de dados" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Engenharia de dados
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../etl-aws/" class="md-nav__link">
        EL na AWS
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Raspagem de dados do LinkedIn
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Raspagem de dados do LinkedIn
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Nesta página">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Nesta página
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mais-detalhes" class="md-nav__link">
    Mais detalhes
  </a>
  
    <nav class="md-nav" aria-label="Mais detalhes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automacao-da-aplicacao" class="md-nav__link">
    Automação da aplicação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#planilha-final" class="md-nav__link">
    Planilha final
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtragem-do-conteudo-html" class="md-nav__link">
    Filtragem do conteúdo HTML
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    Scripts
  </a>
  
    <nav class="md-nav" aria-label="Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estrutura" class="md-nav__link">
    Estrutura
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dockerfile" class="md-nav__link">
    Dockerfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    Docker compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extrair-links-das-vagas" class="md-nav__link">
    Extrair links das vagas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extrair-informacoes-de-cada-link-e-salvar-na-planilha" class="md-nav__link">
    Extrair informações de cada link e salvar na planilha
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modelagem-bd/" class="md-nav__link">
        Modelagem de banco de dados
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Ciência de Dados
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ciência de Dados" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Ciência de Dados
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/fraud-detection/" class="md-nav__link">
        Detecção de fraude
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Nesta página">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Nesta página
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mais-detalhes" class="md-nav__link">
    Mais detalhes
  </a>
  
    <nav class="md-nav" aria-label="Mais detalhes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automacao-da-aplicacao" class="md-nav__link">
    Automação da aplicação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#planilha-final" class="md-nav__link">
    Planilha final
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtragem-do-conteudo-html" class="md-nav__link">
    Filtragem do conteúdo HTML
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    Scripts
  </a>
  
    <nav class="md-nav" aria-label="Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estrutura" class="md-nav__link">
    Estrutura
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dockerfile" class="md-nav__link">
    Dockerfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    Docker compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extrair-links-das-vagas" class="md-nav__link">
    Extrair links das vagas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extrair-informacoes-de-cada-link-e-salvar-na-planilha" class="md-nav__link">
    Extrair informações de cada link e salvar na planilha
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="raspagem-de-dados-do-linkedin">Raspagem de dados do LinkedIn</h1>
<p>Requisitos para rodar a aplicação: arquivo com credenciais para acessar o Google Sheets e ter o Docker instalado.</p>
<p><a href="https://github.com/peuvitor/linkedin-jobs-scraper">acesso aos arquivos</a></p>
<h2 id="overview">Overview</h2>
<p>Periodicamente extrair do LinkedIn as vagas abertas de <strong>Data Engineer</strong> no <strong>Brasil</strong> e salvar os detalhes de cada uma delas em uma planilha do Google Sheets.</p>
<ol>
<li>
<p>O script em shell extrai periodicamente as vagas abertas e salva em uma pasta compartilhada um arquivo .txt com o link de cada uma delas;</p>
</li>
<li>
<p>O script em python:</p>
<ul>
<li>
<p>periodicamente (não sincronizado com o script em shell) verifica os arquivos presentes na pasta compartilhada;</p>
</li>
<li>
<p>para cada arquivo encontrado, varre todos os links existentes;</p>
</li>
<li>
<p>em cada link de vaga de emprego extrai-se: o título da vaga, a empresa que está ofertando, o local de trabalho e a descrição;</p>
</li>
<li>
<p>todas essas informações são salvas em uma planilha do Google Sheets, onde cada aba corresponde a um arquivo;</p>
</li>
<li>
<p>após finalizar a carga na planilha, o arquivo com os links das vagas é movido para uma subpasta da pasta compartilhada, de modo a manter o registro de todas as extrações realizadas e salvas.</p>
</li>
</ul>
</li>
</ol>
<p>Resumo do funcionamento:</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/overview.png?raw=true" /></p>
<h2 id="mais-detalhes">Mais detalhes</h2>
<h3 id="automacao-da-aplicacao">Automação da aplicação</h3>
<ul>
<li>
<p>a aplicação é executada com um cron job e, para efeito de demonstração, foram escolhidos intervalos de 2 e 11 minutos para os scripts em shell e em python, respectivamente;</p>
</li>
<li>
<p>existência de uma aba de consolidação, que guarda um resumo dos dados de todas as outras abas existentes.</p>
</li>
</ul>
<h3 id="planilha-final">Planilha final</h3>
<p>Abaixo é a captura da tela assim que a planilha é aberta.</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/planilha-geral-1.PNG?raw=true" /></p>
<p>Agora, um exemplo do conteúdo presente nas abas referentes a cada arquivo da pasta compartilhada. É interessante pontuar que o resultado obtido ao realizar a coleta de dados na pesquisa de vagas no LinkedIn conta sempre com 25 vagas de emprego. Quando você está conectado a uma conta do LinkedIn, o conteúdo é apresentado em diversas páginas de 25 vagas, o que permitiria a iteração via código ao mudar um parâmetro presente no URL da pesquisa do LinkedIn.</p>
<p>Porém, da forma que está sendo feita a aplicação, não é realizado nenhum login antes da coleta de dados. Por conta disso, a página do LinkedIn é mostrada de maneira diferente, não por páginas contendo 25 vagas de emprego, mas sim com uma rolagem (scroll) infinita que apresenta mais 25 novas vagas assim que carregada. Dessa forma, para conseguir extrair mais de 25 vagas por vez, se faz necessário o acréscimo de um algoritmo que interaja com a página, o que, considerando o objetivo deste projeto, não foi realizado aqui.</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/planilha-exemplo-2.PNG?raw=true" /></p>
<p>Por fim, é possível observar todas as abas existentes na planilha. É interessante observar a questão da periodicidade de execução dos scripts em shell e em python e também checar como os arquivos estão organizados na pasta "job-links/".</p>
<p>O script em shell (extrair links das vagas) executa diversas vezes antes do script em python (extrair informações de cada link e salvar na planilha), por isso, as abas presentes na planilha correspondem aos arquivos presentes na pasta "job-links/sent/". Ainda há outros arquivos na pasta "job-links/", mas a aplicação foi parada antes do script em python executar novamente.</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/planilha-abas-3.png?raw=true" /></p>
<h3 id="filtragem-do-conteudo-html">Filtragem do conteúdo HTML</h3>
<p>Página de vagas de emprego do LinkedIn de acordo com os filtros de título e local de trabalho;</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/linkedin-all-jobs-1.JPG?raw=true" /></p>
<p>No resultado da coleta de dados da página que lista todas as vagas abertas, é possível observar que cada uma das 25 vagas são identificadas por um ID, acessível em "data-entity-urn";</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/html-all-jobs-2.JPG?raw=true" /></p>
<p>Após extrair os IDs das vagas mostradas no momento do acesso, é possível acessar cada uma delas a partir do URL apresentado na imagem. Por conta disso, o arquivo de texto criado conta com o URL completo para cada uma das 25 vagas, onde será possível extrair: o título da vaga, a empresa que está ofertando, o local de trabalho e a descrição;</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/linkedin-job-3.JPG?raw=true" /></p>
<p>Investigando o resultado da coleta de dados da página específica de uma vaga de emprego, são observadas as seguintes relações com o que se deseja extrair. Com isso, é implementada a extração de informações a partir dessas classes, que depois são armazenadas e enviadas para a planilha do Google Sheets.</p>
<p><img alt="" src="https://github.com/peuvitor/linkedin-jobs-scraper/blob/main/images/html-job-4.JPG?raw=true" /></p>
<h2 id="scripts">Scripts</h2>
<h3 id="estrutura">Estrutura</h3>
<ul>
<li>
<p>arquivo "docker-compose.yml": para funcionamento da aplicação, basta subir o container presente neste arquivo. Nele constam a criação da imagem e o mapeamento dos volumes;</p>
</li>
<li>
<p>pasta "data": armazena o arquivo JSON com as credenciais que autorizam o acesso à planilha;</p>
</li>
<li>
<p>pasta "docker-image": armazena o arquivo do Dockerfile para criação da imagem e o arquivo crontab que agenda a execução dos scripts;</p>
</li>
<li>
<p>pasta "scripts": armazena os scripts em shell e em python;</p>
</li>
<li>
<p>pasta "job-links": armazena os arquivos resultantes das coletas de dados do LinkedIn.</p>
</li>
</ul>
<h3 id="dockerfile">Dockerfile</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.8-alpine3.14</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">COPY</span><span class="w"> </span>./crontab /var/spool/cron/crontabs/root
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">RUN</span><span class="w"> </span>apk --no-cache add curl grep sed dos2unix
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">RUN</span><span class="w"> </span>dos2unix /var/spool/cron/crontabs/root
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">RUN</span><span class="w"> </span>pip install gspread oauth2client beautifulsoup4
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="k">CMD</span><span class="w"> </span>crond -l <span class="m">2</span> -f <span class="o">&amp;&amp;</span> tail -f /var/log/cron.log
</code></pre></div>
<p>crontab:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>*/11    *   *   *   *   python /bin/etl-script.py
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>*/2     *   *   *   *   sh /bin/get-job-links.sh
</code></pre></div>
<h3 id="docker-compose">Docker compose</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3.1&#39;</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nt">services</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">google-api</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./docker-image</span><span class="w"></span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python</span><span class="w"></span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">google-api</span><span class="w"></span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./data/client_secrets.json:/client_secrets.json</span><span class="w"></span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./job-links/:/job-links</span><span class="w"></span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./scripts/etl-script.py:/bin/etl-script.py</span><span class="w"></span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./scripts/get-job-links.sh:/bin/get-job-links.sh</span><span class="w"></span>
</code></pre></div>
<h3 id="extrair-links-das-vagas">Extrair links das vagas</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="ch">#!/bin/sh</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nv">JOB_LINK</span><span class="o">=</span><span class="s2">&quot;https\:\/\/www.linkedin.com\/jobs\/view\/&quot;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nv">JOB_TITLE</span><span class="o">=</span><span class="s2">&quot;data%20engineer&quot;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nv">LOCATION</span><span class="o">=</span><span class="s2">&quot;brazil&quot;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nv">URL</span><span class="o">=</span><span class="s2">&quot;https://www.linkedin.com/jobs/search?keywords=</span><span class="si">${</span><span class="nv">JOB_TITLE</span><span class="si">}</span><span class="s2">&amp;location=</span><span class="si">${</span><span class="nv">LOCATION</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="nv">dateAndTime</span><span class="o">=</span><span class="k">$(</span>date -u +<span class="s1">&#39;%F %H-%M-%S %Z&#39;</span><span class="k">)</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;../job-links/</span><span class="nv">$dateAndTime</span><span class="s2">.txt&quot;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>curl <span class="s2">&quot;</span><span class="nv">$URL</span><span class="s2">&quot;</span> <span class="p">|</span> grep data-entity-urn  <span class="p">|</span> sed <span class="s2">&quot;s/^.*urn:li:jobPosting:/</span><span class="nv">$JOB_LINK</span><span class="s2">/&quot;</span> <span class="p">|</span> sed <span class="s2">&quot;s/\&quot; data-search-id.*</span>$<span class="s2">//&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
</code></pre></div>
<p><a href="https://github.com/peuvitor/linkedin-jobs-scraper/tree/main/job-links">Resultados da execução do script</a></p>
<h3 id="extrair-informacoes-de-cada-link-e-salvar-na-planilha">Extrair informações de cada link e salvar na planilha</h3>
<ol>
<li>
<p>Função principal que lê os arquivos que contêm os links das vagas de emprego, extrai o conteúdo de cada uma delas e salva em uma planilha do Google Sheets.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="n">CREDENTIALS_FILE</span> <span class="o">=</span> <span class="s2">&quot;../client_secrets.json&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="n">SPREADSHEET_KEY</span> <span class="o">=</span> <span class="s2">&quot;1KSsI8nJFyp_vYyaKFBZFJ-w-wZqou85dAdIj9E6a3zI&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="n">JOB_LINKS_PATH</span> <span class="o">=</span> <span class="s2">&quot;../job-links/&quot;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="n">SAVED_JOB_LINKS_PATH</span> <span class="o">=</span> <span class="n">JOB_LINKS_PATH</span> <span class="o">+</span> <span class="s2">&quot;sent/&quot;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="n">spreadsheet</span> <span class="o">=</span> <span class="n">Spreadsheet</span><span class="p">(</span><span class="n">CREDENTIALS_FILE</span><span class="p">,</span> <span class="n">SPREADSHEET_KEY</span><span class="p">)</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="n">files_with_job_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> 
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>                            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">JOB_LINKS_PATH</span><span class="p">)</span> 
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>                            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">JOB_LINKS_PATH</span><span class="p">,</span> <span class="n">f</span><span class="p">))]</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    <span class="k">for</span> <span class="n">urls_file</span> <span class="ow">in</span> <span class="n">files_with_job_links</span><span class="p">:</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>        <span class="n">job_data</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>        <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">file_lines_into_list</span><span class="p">(</span><span class="n">JOB_LINKS_PATH</span><span class="o">+</span><span class="n">urls_file</span><span class="p">):</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>            <span class="n">job_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_url_content_as_dict</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>        <span class="n">data_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">get_all_keys_as_list</span><span class="p">(</span><span class="n">job_data</span><span class="p">))</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>        <span class="c1"># nome da aba é o carimbo data e hora da extração dos links das vagas </span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>        <span class="c1"># = nome do arquivo sem a sua extensão</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>        <span class="n">worksheet_name</span> <span class="o">=</span> <span class="n">urls_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>        <span class="n">spreadsheet</span><span class="o">.</span><span class="n">insert_values</span><span class="p">(</span><span class="n">job_data</span><span class="p">,</span> <span class="n">data_keys</span><span class="p">,</span> <span class="n">worksheet_name</span><span class="p">)</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>        <span class="n">spreadsheet</span><span class="o">.</span><span class="n">consolidation</span><span class="p">()</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">SAVED_JOB_LINKS_PATH</span><span class="p">):</span> 
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">SAVED_JOB_LINKS_PATH</span><span class="p">)</span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>        <span class="n">os</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">JOB_LINKS_PATH</span><span class="o">+</span><span class="n">urls_file</span><span class="p">,</span> <span class="n">SAVED_JOB_LINKS_PATH</span><span class="o">+</span><span class="n">urls_file</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>Funções utilizadas para ler os arquivos que contêm os links das vagas, extrair e organizar o conteúdo html das páginas.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">def</span> <span class="nf">file_lines_into_list</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span> 
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="k">return</span> <span class="n">lines</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="k">def</span> <span class="nf">filter_html_content</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="nb">filter</span><span class="p">):</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">html_content</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="nb">filter</span><span class="p">})</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="k">def</span> <span class="nf">get_url_content_as_dict</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    <span class="n">content</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    <span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>    <span class="n">content</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">url</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    <span class="n">content</span><span class="p">[</span><span class="s1">&#39;job title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filter_html_content</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s2">&quot;sub-nav-cta__header&quot;</span><span class="p">)</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    <span class="n">content</span><span class="p">[</span><span class="s1">&#39;company&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filter_html_content</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s2">&quot;sub-nav-cta__optional-url&quot;</span><span class="p">)</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>    <span class="n">content</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filter_html_content</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s2">&quot;sub-nav-cta__meta-text&quot;</span><span class="p">)</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>    <span class="n">content</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filter_html_content</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s2">&quot;show-more-less-html__markup show-more-less-html__markup--clamp-after-5&quot;</span><span class="p">)</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>    <span class="k">return</span> <span class="n">content</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="k">def</span> <span class="nf">get_all_keys_as_list</span><span class="p">(</span><span class="n">list_of_dictionaries</span><span class="p">):</span>
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>    <span class="c1"># retorna todas as chaves presentes em uma lista de dicionários</span>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>    <span class="n">all_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span> <span class="nb">set</span><span class="p">()</span><span class="o">.</span><span class="n">union</span><span class="p">(</span> <span class="o">*</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="nb">dict</span> <span class="ow">in</span> <span class="n">list_of_dictionaries</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>    <span class="k">return</span> <span class="n">all_keys</span>
</code></pre></div>
</li>
<li>
<p>Abaixo segue o que é a classe Spreadsheet e seus métodos.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">class</span> <span class="nc">Spreadsheet</span><span class="p">():</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">SCOPE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;https://spreadsheets.google.com/feeds&#39;</span><span class="p">,</span> <span class="s1">&#39;https://www.googleapis.com/auth/drive&#39;</span><span class="p">]</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">CONSOLIDATION_WORKSHEET</span> <span class="o">=</span> <span class="s2">&quot;DATA CONSOLIDATION&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">HEADER_INDEX</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">HEADER_FIRST_CELL</span> <span class="o">=</span> <span class="n">CONSOLIDATION_WORKSHEET</span><span class="o">+</span><span class="s2">&quot;!A1&quot;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">,</span> <span class="n">spreadsheet_key</span><span class="p">):</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>    <span class="c1"># a inicialização consiste em se conectar com a referente planilha e deixá-la disponível para trabalho</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet_key</span> <span class="o">=</span> <span class="n">spreadsheet_key</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">creds</span> <span class="o">=</span> <span class="n">ServiceAccountCredentials</span><span class="o">.</span><span class="n">from_json_keyfile_name</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">Spreadsheet</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">)</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">gspread</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">creds</span><span class="p">)</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">open_by_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet_key</span><span class="p">)</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="k">def</span> <span class="nf">_create_worksheet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">worksheet_name</span><span class="p">):</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">add_worksheet</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">worksheet_name</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="k">def</span> <span class="nf">list_worksheets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>    <span class="n">worksheet_objs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">worksheets</span><span class="p">()</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>    <span class="n">worksheets_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">worksheet</span><span class="o">.</span><span class="n">title</span> <span class="k">for</span> <span class="n">worksheet</span> <span class="ow">in</span> <span class="n">worksheet_objs</span><span class="p">]</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>    <span class="k">return</span> <span class="n">worksheets_list</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="k">def</span> <span class="nf">_arrange_values_for_insertion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">column_header</span><span class="p">):</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>    <span class="n">list_values_to_insert</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>    <span class="c1"># mapeamento cabeçalho e chave</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>    <span class="n">header_to_key</span> <span class="o">=</span> <span class="p">{</span> <span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">column_header</span> <span class="p">}</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>    <span class="c1"># organizar os dados de acordo com o cabeçalho</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>    <span class="c1"># caso um registro não tenha determinada chave, o valor referente ficará em branco</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>    <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>        <span class="n">arrange_key_to_header</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">column_header</span><span class="p">:</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>                <span class="n">arrange_key_to_header</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">instance</span><span class="p">[</span> <span class="n">header_to_key</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>            <span class="k">except</span><span class="p">:</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>                <span class="n">arrange_key_to_header</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>        <span class="n">list_values_to_insert</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arrange_key_to_header</span><span class="p">)</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>    <span class="k">return</span> <span class="n">list_values_to_insert</span>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="k">def</span> <span class="nf">insert_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">column_header</span><span class="p">,</span> <span class="n">worksheet_name</span><span class="p">):</span>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">last_header</span> <span class="o">=</span> <span class="n">column_header</span>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>    <span class="k">if</span> <span class="n">worksheet_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_worksheets</span><span class="p">():</span> 
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_create_worksheet</span><span class="p">(</span><span class="n">worksheet_name</span><span class="p">)</span>
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">current_worksheet</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">worksheet</span><span class="p">(</span><span class="n">worksheet_name</span><span class="p">)</span>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>    <span class="c1"># insere cabeçalho</span>
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">current_worksheet</span><span class="o">.</span><span class="n">insert_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_header</span><span class="p">,</span> <span class="n">Spreadsheet</span><span class="o">.</span><span class="n">HEADER_INDEX</span><span class="p">)</span>
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>    <span class="c1"># anexa os dados alinhando conteúdo e cabeçalho</span>
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>    <span class="n">list_values_to_insert</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrange_values_for_insertion</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_header</span><span class="p">)</span>
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">values_append</span><span class="p">(</span>
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>                                <span class="n">worksheet_name</span><span class="p">,</span> 
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>                                <span class="p">{</span><span class="s1">&#39;valueInputOption&#39;</span><span class="p">:</span> <span class="s1">&#39;USER_ENTERED&#39;</span><span class="p">},</span> 
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>                                <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="n">list_values_to_insert</span><span class="p">})</span>
<a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a>
<a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a><span class="k">def</span> <span class="nf">consolidation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a>    <span class="k">if</span> <span class="n">Spreadsheet</span><span class="o">.</span><span class="n">CONSOLIDATION_WORKSHEET</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_worksheets</span><span class="p">():</span> 
<a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_create_worksheet</span><span class="p">(</span><span class="n">Spreadsheet</span><span class="o">.</span><span class="n">CONSOLIDATION_WORKSHEET</span><span class="p">)</span>
<a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">data_consolidation_worksheet</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">worksheet</span><span class="p">(</span><span class="n">Spreadsheet</span><span class="o">.</span><span class="n">CONSOLIDATION_WORKSHEET</span><span class="p">)</span>
<a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a>
<a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a>    <span class="c1"># insere cabeçalho considerando o já existente na aba DATA CONSOLIDATION,</span>
<a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a>    <span class="c1"># além de possíveis novas colunas da última aba criada</span>
<a id="__codelineno-6-66" name="__codelineno-6-66" href="#__codelineno-6-66"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">current_header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_consolidation_worksheet</span><span class="o">.</span><span class="n">row_values</span><span class="p">(</span><span class="n">Spreadsheet</span><span class="o">.</span><span class="n">HEADER_INDEX</span><span class="p">)</span>
<a id="__codelineno-6-67" name="__codelineno-6-67" href="#__codelineno-6-67"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">current_header</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_header</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_header</span><span class="p">])</span>
<a id="__codelineno-6-68" name="__codelineno-6-68" href="#__codelineno-6-68"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">values_update</span><span class="p">(</span>
<a id="__codelineno-6-69" name="__codelineno-6-69" href="#__codelineno-6-69"></a>                                <span class="n">Spreadsheet</span><span class="o">.</span><span class="n">HEADER_FIRST_CELL</span><span class="p">,</span> 
<a id="__codelineno-6-70" name="__codelineno-6-70" href="#__codelineno-6-70"></a>                                <span class="p">{</span><span class="s1">&#39;valueInputOption&#39;</span><span class="p">:</span> <span class="s1">&#39;USER_ENTERED&#39;</span><span class="p">},</span> 
<a id="__codelineno-6-71" name="__codelineno-6-71" href="#__codelineno-6-71"></a>                                <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_header</span><span class="p">]})</span>
<a id="__codelineno-6-72" name="__codelineno-6-72" href="#__codelineno-6-72"></a>
<a id="__codelineno-6-73" name="__codelineno-6-73" href="#__codelineno-6-73"></a>    <span class="c1"># lista com todos os urls presentes na aba DATA CONSOLIDATION</span>
<a id="__codelineno-6-74" name="__codelineno-6-74" href="#__codelineno-6-74"></a>    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;url&quot;</span>
<a id="__codelineno-6-75" name="__codelineno-6-75" href="#__codelineno-6-75"></a>    <span class="n">key_cell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_consolidation_worksheet</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<a id="__codelineno-6-76" name="__codelineno-6-76" href="#__codelineno-6-76"></a>    <span class="n">values_in_data_consolidation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_consolidation_worksheet</span><span class="o">.</span><span class="n">col_values</span><span class="p">(</span><span class="n">key_cell</span><span class="o">.</span><span class="n">col</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>
<a id="__codelineno-6-77" name="__codelineno-6-77" href="#__codelineno-6-77"></a>
<a id="__codelineno-6-78" name="__codelineno-6-78" href="#__codelineno-6-78"></a>    <span class="c1"># urls da última aba criada que ainda não constam na aba &quot;DATA CONSOLIDATION&quot;</span>
<a id="__codelineno-6-79" name="__codelineno-6-79" href="#__codelineno-6-79"></a>    <span class="n">new_rows</span> <span class="o">=</span> <span class="p">[</span><span class="n">instance</span> 
<a id="__codelineno-6-80" name="__codelineno-6-80" href="#__codelineno-6-80"></a>                <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> 
<a id="__codelineno-6-81" name="__codelineno-6-81" href="#__codelineno-6-81"></a>                <span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values_in_data_consolidation</span><span class="p">]</span>
<a id="__codelineno-6-82" name="__codelineno-6-82" href="#__codelineno-6-82"></a>
<a id="__codelineno-6-83" name="__codelineno-6-83" href="#__codelineno-6-83"></a>    <span class="c1"># anexa os dados alinhando conteúdo e cabeçalho</span>
<a id="__codelineno-6-84" name="__codelineno-6-84" href="#__codelineno-6-84"></a>    <span class="n">list_values_to_insert</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrange_values_for_insertion</span><span class="p">(</span><span class="n">new_rows</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_header</span><span class="p">)</span>
<a id="__codelineno-6-85" name="__codelineno-6-85" href="#__codelineno-6-85"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">spreadsheet</span><span class="o">.</span><span class="n">values_append</span><span class="p">(</span>
<a id="__codelineno-6-86" name="__codelineno-6-86" href="#__codelineno-6-86"></a>                                <span class="n">Spreadsheet</span><span class="o">.</span><span class="n">CONSOLIDATION_WORKSHEET</span><span class="p">,</span> 
<a id="__codelineno-6-87" name="__codelineno-6-87" href="#__codelineno-6-87"></a>                                <span class="p">{</span><span class="s1">&#39;valueInputOption&#39;</span><span class="p">:</span> <span class="s1">&#39;USER_ENTERED&#39;</span><span class="p">},</span> 
<a id="__codelineno-6-88" name="__codelineno-6-88" href="#__codelineno-6-88"></a>                                <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="n">list_values_to_insert</span><span class="p">})</span>
</code></pre></div>
</li>
</ol>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Voltar ao topo
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
      
    
    <nav class="md-footer__inner md-grid" aria-label="Rodapé" >
      
        
        <a href="../etl-aws/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: EL na AWS" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              EL na AWS
            </div>
          </div>
        </a>
      
      
        
        <a href="../modelagem-bd/" class="md-footer__link md-footer__link--next" aria-label="Próximo: Modelagem de banco de dados" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Próximo
              </span>
              Modelagem de banco de dados
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version.title": "Selecione a vers\u00e3o"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>